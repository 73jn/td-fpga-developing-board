--
-- VHDL Architecture Cordic_test.cordicSinCosPipelined_tb.struct
--
-- Created:
--          by - jeann.UNKNOWN (DESKTOP-V46KISN)
--          at - 10:55:32 22.06.2021
--
-- Generated by Mentor Graphics' HDL Designer(TM) 2019.2 (Build 5)
--
LIBRARY ieee;
  USE ieee.std_logic_1164.all;
  USE ieee.numeric_std.all;

LIBRARY Cordic;
LIBRARY Cordic_test;
LIBRARY Modulation;
LIBRARY Poetic;

ARCHITECTURE struct OF cordicSinCosPipelined_tb IS

    -- Architecture declarations
    constant phaseBitNb: positive := 10;
    constant signalBitNb: positive := 10;

    -- Internal signal declarations
    SIGNAL clock       : std_ulogic;
    SIGNAL phase       : unsigned(phaseBitNb-1 DOWNTO 0);
    SIGNAL phase1      : unsigned(phaseBitNb-1 DOWNTO 0);
    SIGNAL phase2      : unsigned(phaseBitNb-1 DOWNTO 0);
    SIGNAL phase3      : unsigned(phaseBitNb-1 DOWNTO 0);
    SIGNAL reset       : std_ulogic;
    SIGNAL serialOut   : std_ulogic;
    SIGNAL serialOut1  : std_ulogic;
    SIGNAL sine        : signed(signalBitNb-1 DOWNTO 0);
    SIGNAL sine1       : signed(signalBitNb-1 DOWNTO 0);
    SIGNAL unsignedNeg : unsigned(signalBitNb-1 DOWNTO 0);
    SIGNAL unsignedPos : unsigned(signalBitNb-1 DOWNTO 0);


    -- Component Declarations
    COMPONENT cordicSinCosPipelined
    GENERIC (
        phaseBitNb  : positive := 16;
        signalBitNb : positive := 16
    );
    PORT (
        clock  : IN     std_ulogic ;
        phase  : IN     unsigned (phaseBitNb-1 DOWNTO 0);
        reset  : IN     std_ulogic ;
        cosine : OUT    signed (signalBitNb-1 DOWNTO 0);
        sine   : OUT    signed (signalBitNb-1 DOWNTO 0)
    );
    END COMPONENT;
    COMPONENT cordicSinCosPipelined_tester
    GENERIC (
        phaseBitNb  : positive := 16;
        signalBitNb : positive := 16
    );
    PORT (
        serialOut  : IN     std_ulogic ;
        serialOut1 : IN     std_ulogic ;
        clock      : OUT    std_ulogic ;
        phase      : OUT    unsigned (phaseBitNb-1 DOWNTO 0);
        reset      : OUT    std_ulogic 
    );
    END COMPONENT;
    COMPONENT pwmModulator
    GENERIC (
        signalBitNb : positive := 16
    );
    PORT (
        clock      : IN     std_ulogic ;
        parallelIn : IN     unsigned (signalBitNb-1 DOWNTO 0);
        reset      : IN     std_ulogic ;
        serialOut  : OUT    std_ulogic 
    );
    END COMPONENT;
    COMPONENT splitter
    GENERIC (
        signalBitNb : positive := 10
    );
    PORT (
        clock       : IN     std_ulogic ;
        reset       : IN     std_ulogic ;
        signedIn    : IN     signed (signalBitNb-1 DOWNTO 0);
        unsignedNeg : OUT    unsigned (signalBitNb-1 DOWNTO 0);
        unsignedPos : OUT    unsigned (signalBitNb-1 DOWNTO 0)
    );
    END COMPONENT;
    COMPONENT threephase
    GENERIC (
        phaseBitNb : positive := 16
    );
    PORT (
        clock   : IN     std_ulogic ;
        phaseIn : IN     unsigned (phaseBitNb-1 DOWNTO 0);
        reset   : IN     std_ulogic ;
        phase1  : OUT    unsigned (phaseBitNb-1 DOWNTO 0);
        phase2  : OUT    unsigned (phaseBitNb-1 DOWNTO 0);
        phase3  : OUT    unsigned (phaseBitNb-1 DOWNTO 0)
    );
    END COMPONENT;

    -- Optional embedded configurations
    -- pragma synthesis_off
    FOR ALL : cordicSinCosPipelined USE ENTITY Cordic.cordicSinCosPipelined;
    FOR ALL : cordicSinCosPipelined_tester USE ENTITY Cordic_test.cordicSinCosPipelined_tester;
    FOR ALL : pwmModulator USE ENTITY Modulation.pwmModulator;
    FOR ALL : splitter USE ENTITY Poetic.splitter;
    FOR ALL : threephase USE ENTITY Poetic.threephase;
    -- pragma synthesis_on


BEGIN

    -- Instance port mappings.
    I_DUT : cordicSinCosPipelined
        GENERIC MAP (
            phaseBitNb  => phaseBitNb,
            signalBitNb => signalBitNb
        )
        PORT MAP (
            clock  => clock,
            phase  => phase1,
            reset  => reset,
            cosine => OPEN,
            sine   => sine
        );
    I_DUT1 : cordicSinCosPipelined
        GENERIC MAP (
            phaseBitNb  => phaseBitNb,
            signalBitNb => signalBitNb
        )
        PORT MAP (
            clock  => clock,
            phase  => phase2,
            reset  => reset,
            cosine => OPEN,
            sine   => sine1
        );
    I_DUT2 : cordicSinCosPipelined
        GENERIC MAP (
            phaseBitNb  => phaseBitNb,
            signalBitNb => signalBitNb
        )
        PORT MAP (
            clock  => clock,
            phase  => phase3,
            reset  => reset,
            cosine => OPEN,
            sine   => OPEN
        );
    I_tester : cordicSinCosPipelined_tester
        GENERIC MAP (
            phaseBitNb  => phaseBitNb,
            signalBitNb => signalBitNb
        )
        PORT MAP (
            serialOut  => serialOut,
            serialOut1 => serialOut1,
            clock      => clock,
            phase      => phase,
            reset      => reset
        );
    I1 : pwmModulator
        GENERIC MAP (
            signalBitNb => 10
        )
        PORT MAP (
            clock      => clock,
            parallelIn => unsignedPos,
            reset      => reset,
            serialOut  => serialOut
        );
    I2 : pwmModulator
        GENERIC MAP (
            signalBitNb => 10
        )
        PORT MAP (
            clock      => clock,
            parallelIn => unsignedNeg,
            reset      => reset,
            serialOut  => serialOut1
        );
    I4 : splitter
        GENERIC MAP (
            signalBitNb => 10
        )
        PORT MAP (
            clock       => clock,
            reset       => reset,
            signedIn    => sine1,
            unsignedNeg => unsignedNeg,
            unsignedPos => unsignedPos
        );
    I0 : threephase
        GENERIC MAP (
            phaseBitNb => 10
        )
        PORT MAP (
            clock   => clock,
            phaseIn => phase,
            reset   => reset,
            phase1  => phase1,
            phase2  => phase2,
            phase3  => phase3
        );

END struct;
